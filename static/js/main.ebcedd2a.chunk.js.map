{"version":3,"sources":["App.jsx","reportWebVitals.js","index.js","Statements.jsx","Range.js","Chart.jsx"],"names":["path","children","Statements","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","App","document","getElementById","colors","W","U","R","B","G","attrs","defZero","get","target","name","storageMap","0","1","2","3","4","5","6","undefined","useState","statements","setStatements","maxes","setMaxes","index","setIndex","showing","setShowing","useParams","prefix","answers","history","createBrowserHistory","load","a","fetch","res","yaml","text","split","forEach","char","idx","response","parseInt","Proxy","s","low","high","answer","change","stored","map","Object","entries","find","join","replace","push","useEffect","align","pt","current","q","Math","abs","normalized","keys","k","className","as","i","title","question","onClick","id","justify","flexDir","maxW","minH","borderRadius","direction","isActive","colorScheme","isDisabled","leftIcon","length","rightIcon","maxH","minW","margin","scores","total","step","from","numSides","size","numPolys","segment","PI","start","thetas","Range","angles","reduce","out","key","xmlns","xmlnsXlink","width","height","viewBox","version","transform","cos","last","dist","points","theta","x","y","sin","circPercent","d","p","cx","cy","r","mask","fill","values","stroke","strokeWidth","incr","href","style","toFixed"],"mappings":"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","file":"static/js/main.ebcedd2a.chunk.js","sourcesContent":["import { BrowserRouter as Router, Switch, Route } from 'react-router-dom'\nimport Statements from './Statements'\n\nexport default () => (\n  <Router>\n    <Switch>\n      <Route path=\"/:prefix\" children={<Statements/>} />\n      <Route path=\"/:prefix/:answers\" children={<Statements/>} />\n    </Switch>\n  </Router>\n)","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { ChakraProvider } from \"@chakra-ui/react\"\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode><ChakraProvider>\n    <App />\n  </ChakraProvider></React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import * as yaml from 'js-yaml'\nimport { useEffect, useState } from 'react'\nimport {\n  Flex, Stack, Box, Spinner, Button, ButtonGroup\n} from '@chakra-ui/react'\nimport {\n  ArrowBackIcon, ArrowForwardIcon, ArrowUpIcon, ArrowDownIcon\n} from '@chakra-ui/icons'\nimport { useLocation } from 'react-router-dom'\nimport { useParams } from 'react-router'\nimport { createBrowserHistory } from 'history'\nimport Chart from './Chart'\nimport './Chart.scss'\n\nconst source = (\n  'https://raw.githubusercontent.com/Jerdle-code/color-pie-test/main/readable_questions.txt'\n)\nconst colors = {\n  W: 'white', U: 'blue', R: 'red', B: 'black', G: 'green'\n}\nconst attrs = {\n  W: 'Justice', U: 'Wisdom', R: 'Chaos', B: 'Ambition', G: 'Balance'\n}\n\nconst defZero = {\n  get: (target, name) => (\n    name in target ? target[name] : 0\n  )\n}\n\nconst useQuery = () => (\n  new URLSearchParams(useLocation().search)\n)\n\nconst atob = (b64) => (\n  Buffer.from(b64, 'base64').toString('binary')\n)\nconst btoa = (bin) => (\n  Buffer.from(bin, 'binary').toString('base64')\n)\n\nconst storageMap = {\n  0: -2, 1: -1, 2: 0, 3: 1, 4: 2, 5: null, 6: undefined\n}\n\nexport default () => {\n  const [statements, setStatements] = useState()\n  const [maxes, setMaxes] = useState()\n  const [index, setIndex] = useState(0)\n  const [showing, setShowing] = useState(true)\n  const { prefix, answers = '' } = useParams()\n  const history = createBrowserHistory()\n  const load = async () => {\n    const res = await fetch(source)\n    const statements = yaml.load(await res.text())\n    answers.split('').forEach((char, idx) => {\n      statements[idx].response = storageMap[parseInt(char, 36)]\n    })\n    setStatements(statements)\n    const maxes = new Proxy({}, defZero)\n    statements.forEach((s) => {\n      maxes[s.low] += 2\n      maxes[s.high] += 2\n    })\n    setMaxes(maxes)\n  }\n  const answer = (res) => {\n    setStatements((statements) => {\n      const change = [...statements]\n      change[index].response = res\n      const stored = (\n        change.map((s) => (\n          Object.entries(storageMap).find(([key, val]) => val === s.response)[0]\n        ))\n        .join('')\n        .replace(/6+$/g, '')\n      )\n      history.push(stored)\n      return change\n    })\n    setIndex(index + 1)\n  }\n  useEffect(() => load(), [])\n\n  if(!statements) {\n    return (\n      <Stack align='center' pt={10}>\n        <Box>Loading Statements…</Box>\n        <Spinner/>\n      </Stack>\n    )\n  }\n\n  if(!maxes) {\n    return (\n      <Stack align='center' pt={10}>\n        <Box>Processing Statements…</Box>\n        <Spinner/>\n      </Stack>\n    )\n  }\n\n  const current = new Proxy({}, defZero)\n  statements.forEach(q => {\n    if(q.response !== undefined) {\n      if(q.response < 0) {\n        current[q.low] += Math.abs(q.response)\n      } else if(q.response > 0) {\n        current[q.high] += Math.abs(q.response)\n      } else if(q.response === null) {\n        // do nothing for \"don't care\"\n      } else if(q.response === 0) {\n        current[q.low] += 1\n        current[q.high] += 1\n      }\n    }\n  })\n  const normalized = {}\n  Object.keys(colors).forEach(k => normalized[k] = (current[k] ?? 0) / maxes[k])\n\n  return (\n    <Stack className={!showing && 'imageOnly'}>\n      <Flex as='nav' key='head'>\n        {statements.map((q, i) => (\n          <span key={i}\n            className={[\n              index === i ? 'current' : null,\n              q.response !== undefined ? 'done' : 'unanswered',\n              `${q.low}${q.high}`,\n              q.response !== undefined ? `res${q.response}` : null,\n            ].join(' ')}\n            title={`Question #${i + 1}: ${statements[i].question}`}\n            onClick={() => setIndex(i)}\n          ></span>\n        ))}\n      </Flex>\n      <Box id='statements'>\n        <Flex justify='center' align='center' flexDir='column'>\n          <Box maxW={['10rem', '40rem']} minH='3rem'>\n            {statements[index] && <q>{statements[index]?.question}</q>}\n          </Box>\n          {statements[index] &&\n            <Stack pt={5}>\n              <Box id='colors'\n                minH={3} borderRadius={10}\n                className={`${statements[index].low}${statements[index].high}`}\n              ></Box>\n              <Stack direction={['column', 'row']}>\n                <Button\n                  isActive={statements[index].response === -2}\n                  colorScheme='red'\n                  onClick={() => answer(-2)}\n                >Strongly Disagree</Button>\n                <Button\n                  isActive={statements[index].response === -1}\n                  colorScheme='pink'\n                  onClick={() => answer(-1)}\n                >Disagree</Button>\n                <Button\n                  isActive={statements[index].response === 0}\n                  colorScheme='blue'\n                  onClick={() => answer(0)}\n                >Ambivalent</Button>\n                <Button\n                  isActive={statements[index].response === 1}\n                  colorScheme='teal'\n                  onClick={() => answer(1)}\n                >Agree</Button>\n                <Button\n                  isActive={statements[index].response === 2}\n                  colorScheme='green'\n                  onClick={() => answer(2)}\n                >Strongly Agree</Button>\n              </Stack>\n            </Stack>\n          }\n          <ButtonGroup pt={5}>\n            <Button\n              isDisabled={index === 0}\n              colorScheme='purple'\n              leftIcon={<ArrowBackIcon/>}\n              onClick={() => setIndex(index - 1)}\n            >Back</Button>\n            <Button\n              isDisabled={index >= statements.length}\n              colorScheme='purple'\n              rightIcon={<ArrowForwardIcon/>}\n              onClick={() => answer(null)}\n            >No Opinion</Button>\n          </ButtonGroup>\n        </Flex>\n      </Box>\n      <Button id='qVis'\n        title={`${showing ? 'Hide' : 'Show'} Questions`}\n        maxH='1rem'\n        minW='50%'\n        margin='auto'\n        onClick={() => setShowing(s => !s)}\n      >{showing ? <ArrowUpIcon/> : <ArrowDownIcon/>}</Button>\n      <Chart key='chart' {...{ colors, attrs, scores: normalized }}/>\n    </Stack>\n  )\n}","// https://stackoverflow.com/a/64628011/264008\nexport default function*(total = 0, step = 1, from = 0) {\n  for(let i = 0; i < total; yield from + i++ * step) {}\n}","import Range from './Range'\nimport './App.scss'\n\nexport default ({ colors, attrs, scores }) => {\n  const numSides = Object.keys(colors).length\n  const numPolys = 10\n  const incr = 10\n  const size = numPolys * incr\n  const segment = 2 * Math.PI / numSides\n  const start = Math.PI / 2\n  const thetas = [...Range(numSides, segment, start)]\n  const angles = Object.keys(colors).reduce((out, key, idx) => {\n    out[key] = thetas[idx]\n    return out\n  }, {})\n\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      xmlnsXlink=\"http://www.w3.org/1999/xlink\"\n      width=\"100%\" height=\"100%\"\n      viewBox=\"-110 -110 220 220\"\n      version=\"1.1\"\n      id=\"5-color-radar\"\n    >\n      <title>Magic: The Gathering Five Color Personality Radar Chart</title>\n      {/* The pentagon is taller on top than the bottom & needs to be shifted */}\n      <g transform={`translate(0, ${(size - size * Math.cos(segment / 2)) / 2})`}>\n        {[...Range(numPolys, 1, 1)].map((idx) => {\n          const last = idx === numPolys\n          const dist = idx * incr\n          const points = Object.entries(angles).map(([key, theta]) => (\n            {\n              x: dist * Math.cos(theta),\n              y: dist * -Math.sin(theta),\n              key,\n            }\n          ))\n          const circPercent = 0.7 // percentage of distance to edge to draw color circle\n          return <>\n            {last &&\n              <>\n                <path id='web' key='web'\n                  d={points.map(p => `M0,0l${p.x},${p.y}`).join('')}\n                />\n                {points.map((p, i) => (\n                  <g id={attrs[p.key]} key={attrs[p.key]}>\n                    <circle\n                      cx={circPercent * p.x}\n                      cy={circPercent * p.y}\n                      r={0.4 * size}\n                      mask='url(\"#surround\")'\n                      fill={Object.values(colors)[i]}\n                    >\n                      <title>{attrs[p.key]}</title>\n                    </circle>\n                    <circle\n                      cx={circPercent * p.x}\n                      cy={circPercent * p.y}\n                      r={0.4 * size}\n                      mask='url(\"#outside\")'\n                      fill='none' stroke='black'\n                      strokeWidth={incr / 2}\n                    >\n                      <title>{attrs[p.key]}</title>\n                    </circle>\n                  </g>\n                ))}\n              </>\n            }\n            <g id={`poly${idx}`} key={`poly${idx}`}>\n              {last\n                ? (\n                  <>\n                    <defs>\n                      <polygon id='outer'\n                        points={points.map(p => `${p.x},${p.y}`).join(' ')}\n                      />\n                      <mask id='surround'>\n                        <use id='surrmask' href='#outer'/>\n                      </mask>\n                      <mask id='outside'>\n                        <use id='outmask' href='#outer'/>\n                      </mask>\n                    </defs>\n                    <use href='#outer' className='ring'/>\n                  </>\n                ) : (\n                  <polygon\n                    className='ring '\n                    points={points.map(p => `${p.x},${p.y}`).join(' ')}\n                  />\n                )\n              }\n            </g>\n          </>\n        })}\n        {(() => {\n          const points = Object.entries(scores).map(([key, score], i) => {\n            const r = score * size\n            return {\n              x: r * Math.cos(angles[key]),\n              y: r * -Math.sin(angles[key]),\n              key,\n            }\n          })\n          return (\n            <g>\n              <defs key='defs'>\n                <polygon id='spread'\n                  points={points.map(p => `${p.x},${p.y}`).join(' ')}\n                />\n                <clipPath id='spreadclip'>\n                  <use href='#spread'\n                    transform={`translate(${size},${size})`}\n                  />\n                </clipPath>\n              </defs>\n              <foreignObject\n                key='foreign'\n                x={-size} y={-size}\n                width={size * 2} height={size * 2}\n              >\n                <div id='coloredspread' key='coloredspread'/>\n              </foreignObject>\n              <use key='use' href='#spread' fill='none' stroke='black'/>\n              {points.map((p, i) => (\n                <circle key={p.key}\n                  cx={p.x} cy={p.y} r={0.25 * incr}\n                  className='point'\n                  style={{ fill: colors[p.key] }}\n                >\n                  <title>{`${attrs[p.key]}: ${(scores[p.key] * 100).toFixed(1)}%`}</title>\n                </circle>\n              ))}\n            </g>\n          )\n        })()}\n      </g>\n   </svg>\n  )\n}"],"sourceRoot":""}